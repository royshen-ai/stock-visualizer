# è‚¡ç¥¨å¯è§†åŒ–å·¥å…· - Streamlit Cloud éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°†è‚¡ç¥¨å¯è§†åŒ–å·¥å…·éƒ¨ç½²åˆ° Streamlit Cloudï¼Œè¿™æ˜¯éƒ¨ç½² Streamlit åº”ç”¨çš„æœ€ä½³é€‰æ‹©ã€‚

## ğŸ¯ ä¸ºä»€ä¹ˆé€‰æ‹© Streamlit Cloudï¼Ÿ

- âœ… **å…è´¹ä½¿ç”¨** - æä¾›å…è´¹çš„æ‰˜ç®¡æœåŠ¡
- âœ… **ä¸“ä¸º Streamlit è®¾è®¡** - åŸç”Ÿæ”¯æŒï¼Œæ— éœ€é¢å¤–é…ç½®
- âœ… **è‡ªåŠ¨éƒ¨ç½²** - è¿æ¥ GitHub åè‡ªåŠ¨æ›´æ–°
- âœ… **ç®€å•æ˜“ç”¨** - å‡ åˆ†é’Ÿå†…å®Œæˆéƒ¨ç½²
- âœ… **ç¨³å®šå¯é ** - ç”± Streamlit å®˜æ–¹ç»´æŠ¤

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. æ£€æŸ¥é¡¹ç›®æ–‡ä»¶

ç¡®ä¿æ‚¨çš„é¡¹ç›®åŒ…å«ä»¥ä¸‹å¿…è¦æ–‡ä»¶ï¼š

```
è‚¡ç¥¨å¯è§†åŒ–å·¥å…·/
â”œâ”€â”€ stock_trading_visualizer.py  # ä¸»åº”ç”¨æ–‡ä»¶
â”œâ”€â”€ requirements.txt             # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ *.csv                       # ç¤ºä¾‹æ•°æ®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ å…¶ä»– Python æ–‡ä»¶
```

### 2. éªŒè¯ requirements.txt

ç¡®ä¿ `requirements.txt` åŒ…å«æ‰€æœ‰å¿…è¦çš„ä¾èµ–ï¼š

```txt
streamlit>=1.28.0
pandas>=1.5.0
yfinance>=0.2.0
plotly>=5.15.0
numpy>=1.24.0
requests
```

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: å‡†å¤‡ GitHub ä»“åº“

#### 1.1 åˆ›å»º GitHub è´¦æˆ·
å¦‚æœæ‚¨è¿˜æ²¡æœ‰ GitHub è´¦æˆ·ï¼š
1. è®¿é—® [github.com](https://github.com)
2. ç‚¹å‡» "Sign up" æ³¨å†Œè´¦æˆ·
3. éªŒè¯é‚®ç®±å¹¶å®Œæˆæ³¨å†Œ

#### 1.2 åˆ›å»ºæ–°ä»“åº“
1. ç™»å½• GitHub åï¼Œç‚¹å‡»å³ä¸Šè§’çš„ "+" æŒ‰é’®
2. é€‰æ‹© "New repository"
3. å¡«å†™ä»“åº“ä¿¡æ¯ï¼š
   - **Repository name**: `stock-visualizer`ï¼ˆæˆ–æ‚¨å–œæ¬¢çš„åç§°ï¼‰
   - **Description**: `è‚¡ç¥¨äº¤æ˜“å¯è§†åŒ–å·¥å…·`
   - **Visibility**: é€‰æ‹© "Public"ï¼ˆå…è´¹ç”¨æˆ·å¿…é¡»é€‰æ‹©å…¬å¼€ï¼‰
   - âœ… å‹¾é€‰ "Add a README file"
4. ç‚¹å‡» "Create repository"

#### 1.3 ä¸Šä¼ é¡¹ç›®æ–‡ä»¶

**æ–¹æ³•ä¸€ï¼šé€šè¿‡ GitHub ç½‘é¡µç•Œé¢**
1. åœ¨æ–°åˆ›å»ºçš„ä»“åº“é¡µé¢ï¼Œç‚¹å‡» "uploading an existing file"
2. å°†é¡¹ç›®æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶æ‹–æ‹½åˆ°ä¸Šä¼ åŒºåŸŸ
3. æ·»åŠ æäº¤ä¿¡æ¯ï¼š`Initial commit: è‚¡ç¥¨å¯è§†åŒ–å·¥å…·`
4. ç‚¹å‡» "Commit changes"

**æ–¹æ³•äºŒï¼šä½¿ç”¨ Git å‘½ä»¤è¡Œ**
```bash
# åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ç»ˆç«¯
git init
git add .
git commit -m "Initial commit: è‚¡ç¥¨å¯è§†åŒ–å·¥å…·"
git branch -M main
git remote add origin https://github.com/æ‚¨çš„ç”¨æˆ·å/stock-visualizer.git
git push -u origin main
```

### æ­¥éª¤ 2: éƒ¨ç½²åˆ° Streamlit Cloud

#### 2.1 è®¿é—® Streamlit Cloud
1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® [share.streamlit.io](https://share.streamlit.io)
2. ç‚¹å‡» "Sign up" æˆ– "Continue with GitHub"
3. ä½¿ç”¨æ‚¨çš„ GitHub è´¦æˆ·ç™»å½•

#### 2.2 åˆ›å»ºæ–°åº”ç”¨
1. ç™»å½•åï¼Œç‚¹å‡» "New app" æŒ‰é’®
2. å¡«å†™åº”ç”¨é…ç½®ï¼š
   - **Repository**: é€‰æ‹©æ‚¨åˆšåˆ›å»ºçš„ä»“åº“ï¼ˆå¦‚ `æ‚¨çš„ç”¨æˆ·å/stock-visualizer`ï¼‰
   - **Branch**: é€‰æ‹© `main`
   - **Main file path**: è¾“å…¥ `stock_trading_visualizer.py`
   - **App URL**: ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªå®šä¹‰

#### 2.3 é«˜çº§è®¾ç½®ï¼ˆå¯é€‰ï¼‰
ç‚¹å‡» "Advanced settings" å¯ä»¥é…ç½®ï¼š
- **Python version**: é€‰æ‹© `3.9` æˆ– `3.10`
- **Environment variables**: å¦‚æœéœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡

#### 2.4 éƒ¨ç½²åº”ç”¨
1. æ£€æŸ¥æ‰€æœ‰è®¾ç½®æ— è¯¯åï¼Œç‚¹å‡» "Deploy!" æŒ‰é’®
2. Streamlit Cloud å°†å¼€å§‹æ„å»ºæ‚¨çš„åº”ç”¨
3. æ„å»ºè¿‡ç¨‹é€šå¸¸éœ€è¦ 2-5 åˆ†é’Ÿ

## âš™ï¸ é…ç½®è¦æ±‚å’Œæ³¨æ„äº‹é¡¹

### ç³»ç»Ÿè¦æ±‚
- **Python ç‰ˆæœ¬**: 3.7 - 3.11
- **å†…å­˜é™åˆ¶**: å…è´¹ç‰ˆæœ¬é™åˆ¶ä¸º 1GB RAM
- **CPU é™åˆ¶**: å…±äº« CPU èµ„æº
- **å­˜å‚¨é™åˆ¶**: ä»“åº“å¤§å°ä¸è¶…è¿‡ 1GB

### é‡è¦æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å¤§å°é™åˆ¶**
   - å•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 100MB
   - å»ºè®®å°†å¤§å‹æ•°æ®æ–‡ä»¶å­˜å‚¨åœ¨å¤–éƒ¨æœåŠ¡ï¼ˆå¦‚ Google Driveï¼‰

2. **ç½‘ç»œè®¿é—®**
   - åº”ç”¨å¯ä»¥è®¿é—®å¤–éƒ¨ APIï¼ˆå¦‚ Yahoo Financeï¼‰
   - ç¡®ä¿ç½‘ç»œè¯·æ±‚æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†

3. **æ•°æ®æŒä¹…åŒ–**
   - Streamlit Cloud ä¸æä¾›æŒä¹…åŒ–å­˜å‚¨
   - ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶åœ¨ä¼šè¯ç»“æŸåä¼šè¢«åˆ é™¤

4. **æ€§èƒ½ä¼˜åŒ–**
   - ä½¿ç”¨ `@st.cache_data` ç¼“å­˜æ•°æ®åŠ è½½
   - é¿å…åœ¨æ¯æ¬¡äº¤äº’æ—¶é‡æ–°åŠ è½½å¤§é‡æ•°æ®

### æ¨èçš„ä»£ç ä¼˜åŒ–

åœ¨ `stock_trading_visualizer.py` ä¸­æ·»åŠ ç¼“å­˜ï¼š

```python
import streamlit as st

@st.cache_data
def load_stock_data(symbol, start_date, end_date):
    """ç¼“å­˜è‚¡ç¥¨æ•°æ®åŠ è½½"""
    # æ‚¨çš„æ•°æ®åŠ è½½ä»£ç 
    pass

@st.cache_data
def process_transaction_data(df):
    """ç¼“å­˜äº¤æ˜“æ•°æ®å¤„ç†"""
    # æ‚¨çš„æ•°æ®å¤„ç†ä»£ç 
    pass
```

## ğŸ”§ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜ 1: éƒ¨ç½²å¤±è´¥ - ä¾èµ–åŒ…å®‰è£…é”™è¯¯

**é”™è¯¯ä¿¡æ¯**: `ERROR: Could not find a version that satisfies the requirement...`

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `requirements.txt` ä¸­çš„åŒ…åå’Œç‰ˆæœ¬å·
2. ç¡®ä¿æ‰€æœ‰åŒ…éƒ½æ”¯æŒ Linux ç¯å¢ƒ
3. ç§»é™¤æˆ–æ›´æ–°ä¸å…¼å®¹çš„åŒ…

**ä¿®å¤ç¤ºä¾‹**:
```txt
# é”™è¯¯çš„å†™æ³•
streamlit==1.28.0

# æ­£ç¡®çš„å†™æ³•
streamlit>=1.28.0
```

### é—®é¢˜ 2: åº”ç”¨å¯åŠ¨ç¼“æ…¢

**åŸå› **: æ•°æ®åŠ è½½æˆ–è®¡ç®—é‡å¤§

**è§£å†³æ–¹æ¡ˆ**:
1. æ·»åŠ åŠ è½½è¿›åº¦æ¡
2. ä½¿ç”¨æ•°æ®ç¼“å­˜
3. ä¼˜åŒ–æ•°æ®å¤„ç†é€»è¾‘

**ä»£ç ç¤ºä¾‹**:
```python
with st.spinner('æ­£åœ¨åŠ è½½è‚¡ç¥¨æ•°æ®...'):
    data = load_stock_data(symbol)
```

### é—®é¢˜ 3: æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å¼‚å¸¸

**åŸå› **: æ–‡ä»¶å¤§å°è¶…é™æˆ–æ ¼å¼ä¸æ”¯æŒ

**è§£å†³æ–¹æ¡ˆ**:
```python
uploaded_file = st.file_uploader(
    "é€‰æ‹©CSVæ–‡ä»¶", 
    type=['csv'],
    help="æ–‡ä»¶å¤§å°ä¸è¶…è¿‡200MB"
)

if uploaded_file is not None:
    if uploaded_file.size > 200 * 1024 * 1024:  # 200MB
        st.error("æ–‡ä»¶è¿‡å¤§ï¼Œè¯·é€‰æ‹©å°äº200MBçš„æ–‡ä»¶")
        return
```

### é—®é¢˜ 4: è‚¡ç¥¨æ•°æ®è·å–å¤±è´¥

**åŸå› **: ç½‘ç»œé—®é¢˜æˆ– API é™åˆ¶

**è§£å†³æ–¹æ¡ˆ**:
```python
import time
import random

def get_stock_data_with_retry(symbol, max_retries=3):
    for attempt in range(max_retries):
        try:
            data = yf.download(symbol)
            return data
        except Exception as e:
            if attempt < max_retries - 1:
                wait_time = random.uniform(1, 3)
                time.sleep(wait_time)
                continue
            else:
                st.error(f"æ— æ³•è·å–è‚¡ç¥¨æ•°æ®: {e}")
                return None
```

### é—®é¢˜ 5: åº”ç”¨è®¿é—®é€Ÿåº¦æ…¢

**åŸå› **: æœåŠ¡å™¨åœ°ç†ä½ç½®æˆ–ç½‘ç»œå»¶è¿Ÿ

**è§£å†³æ–¹æ¡ˆ**:
1. ä¼˜åŒ–ä»£ç æ€§èƒ½
2. å‡å°‘ä¸å¿…è¦çš„ç½‘ç»œè¯·æ±‚
3. ä½¿ç”¨æ•°æ®ç¼“å­˜
4. è€ƒè™‘å‡çº§åˆ°ä»˜è´¹ç‰ˆæœ¬

## ğŸ“Š éƒ¨ç½²åç®¡ç†

### åº”ç”¨ç®¡ç†
1. **è®¿é—®åº”ç”¨**: éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨ä¼šè·å¾—ä¸€ä¸ªå…¬å¼€çš„ URL
2. **æŸ¥çœ‹æ—¥å¿—**: åœ¨ Streamlit Cloud æ§åˆ¶å°æŸ¥çœ‹åº”ç”¨æ—¥å¿—
3. **æ›´æ–°åº”ç”¨**: æ¨é€ä»£ç åˆ° GitHub ä»“åº“ä¼šè‡ªåŠ¨è§¦å‘é‡æ–°éƒ¨ç½²
4. **æš‚åœåº”ç”¨**: åœ¨æ§åˆ¶å°å¯ä»¥æš‚åœæˆ–åˆ é™¤åº”ç”¨

### ç›‘æ§å’Œç»´æŠ¤
1. **æ€§èƒ½ç›‘æ§**: å…³æ³¨åº”ç”¨å“åº”æ—¶é—´å’Œé”™è¯¯ç‡
2. **ç”¨æˆ·åé¦ˆ**: æ”¶é›†ç”¨æˆ·ä½¿ç”¨åé¦ˆ
3. **å®šæœŸæ›´æ–°**: ä¿æŒä¾èµ–åŒ…çš„æ›´æ–°
4. **å¤‡ä»½ä»£ç **: å®šæœŸå¤‡ä»½ GitHub ä»“åº“

### åˆ†äº«åº”ç”¨
éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨å¯ä»¥ï¼š
1. åˆ†äº«åº”ç”¨ URL ç»™å…¶ä»–ç”¨æˆ·
2. åœ¨ README.md ä¸­æ·»åŠ åº”ç”¨é“¾æ¥
3. åœ¨ç¤¾äº¤åª’ä½“æˆ–æŠ€æœ¯ç¤¾åŒºåˆ†äº«

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

æ­å–œï¼æ‚¨çš„è‚¡ç¥¨å¯è§†åŒ–å·¥å…·ç°åœ¨å·²ç»æˆåŠŸéƒ¨ç½²åˆ° Streamlit Cloudã€‚

**ä¸‹ä¸€æ­¥æ‚¨å¯ä»¥**:
- ğŸ“± åœ¨æ‰‹æœºå’Œç”µè„‘ä¸Šæµ‹è¯•åº”ç”¨
- ğŸ‘¥ é‚€è¯·æœ‹å‹å’ŒåŒäº‹ä½¿ç”¨
- ğŸ”§ æ ¹æ®ç”¨æˆ·åé¦ˆç»§ç»­æ”¹è¿›
- ğŸ“ˆ æ·»åŠ æ›´å¤šåŠŸèƒ½å’Œåˆ†æå·¥å…·

**éœ€è¦å¸®åŠ©ï¼Ÿ**
- ğŸ“– æŸ¥çœ‹ [Streamlit å®˜æ–¹æ–‡æ¡£](https://docs.streamlit.io)
- ğŸ’¬ è®¿é—® [Streamlit ç¤¾åŒºè®ºå›](https://discuss.streamlit.io)
- ğŸ› åœ¨ GitHub ä»“åº“æäº¤ Issue

---

*ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶æŸ¥é˜…æœ¬æŒ‡å—æˆ–å¯»æ±‚æŠ€æœ¯æ”¯æŒã€‚*

## é—®é¢˜è¯Šæ–­

æ‚¨é‡åˆ°çš„ **404 NOT_FOUND** é”™è¯¯æ˜¯å› ä¸º Streamlit åº”ç”¨æ— æ³•åœ¨ Vercel ä¸Šç›´æ¥è¿è¡Œã€‚

### ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Ÿ

1. **å¹³å°é™åˆ¶**ï¼šVercel ä¸»è¦è®¾è®¡ç”¨äºé™æ€ç½‘ç«™å’Œæ— æœåŠ¡å™¨å‡½æ•°
2. **Streamlit ç‰¹æ€§**ï¼šStreamlit éœ€è¦æŒç»­è¿è¡Œçš„ Python æœåŠ¡å™¨
3. **é…ç½®å†²çª**ï¼šåŸå§‹çš„ vercel.json é…ç½®è¯•å›¾å°†æ‰€æœ‰è¯·æ±‚é‡å®šå‘åˆ°ä¸å­˜åœ¨çš„ index.html

## è§£å†³æ–¹æ¡ˆ

### ğŸ¯ æ¨èæ–¹æ¡ˆï¼šä½¿ç”¨ä¸“é—¨çš„ Streamlit éƒ¨ç½²å¹³å°

#### 1. Streamlit Cloudï¼ˆæ¨èï¼‰
- **ä¼˜åŠ¿**ï¼šå…è´¹ã€ä¸“ä¸º Streamlit è®¾è®¡ã€éƒ¨ç½²ç®€å•
- **æ­¥éª¤**ï¼š
  1. å°†ä»£ç æ¨é€åˆ° GitHub
  2. è®¿é—® [streamlit.io/cloud](https://streamlit.io/cloud)
  3. è¿æ¥ GitHub ä»“åº“
  4. é€‰æ‹©ä¸»æ–‡ä»¶ï¼š`stock_trading_visualizer.py`
  5. è‡ªåŠ¨éƒ¨ç½²

#### 2. Railway
- **ä¼˜åŠ¿**ï¼šæ”¯æŒ Python åº”ç”¨ã€é…ç½®ç®€å•
- **æ­¥éª¤**ï¼š
  1. è®¿é—® [railway.app](https://railway.app)
  2. è¿æ¥ GitHub ä»“åº“
  3. Railway ä¼šè‡ªåŠ¨æ£€æµ‹ Python åº”ç”¨
  4. æ·»åŠ å¯åŠ¨å‘½ä»¤ï¼š`streamlit run stock_trading_visualizer.py --server.port $PORT`

#### 3. Render
- **ä¼˜åŠ¿**ï¼šå…è´¹å±‚ã€æ”¯æŒ Web æœåŠ¡
- **æ­¥éª¤**ï¼š
  1. è®¿é—® [render.com](https://render.com)
  2. åˆ›å»ºæ–°çš„ Web Service
  3. è¿æ¥ GitHub ä»“åº“
  4. è®¾ç½®æ„å»ºå‘½ä»¤ï¼š`pip install -r requirements.txt`
  5. è®¾ç½®å¯åŠ¨å‘½ä»¤ï¼š`streamlit run stock_trading_visualizer.py --server.port $PORT --server.address 0.0.0.0`

### ğŸ”§ æœ¬åœ°è¿è¡Œï¼ˆå¼€å‘æµ‹è¯•ï¼‰

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œåº”ç”¨
streamlit run stock_trading_visualizer.py
```

### ğŸ“¦ Docker éƒ¨ç½²

å¦‚æœæ‚¨æƒ³ä½¿ç”¨å®¹å™¨åŒ–éƒ¨ç½²ï¼Œå¯ä»¥åˆ›å»º Dockerfileï¼š

```dockerfile
FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

EXPOSE 8501

CMD ["streamlit", "run", "stock_trading_visualizer.py", "--server.port", "8501", "--server.address", "0.0.0.0"]
```

## å½“å‰ Vercel é…ç½®è¯´æ˜

æˆ‘å·²ç»ä¿®å¤äº† vercel.json é…ç½®ï¼Œç°åœ¨è®¿é—®æ‚¨çš„ Vercel éƒ¨ç½²ä¼šæ˜¾ç¤ºä¸€ä¸ªè¯´æ˜é¡µé¢ï¼Œè§£é‡Šä¸ºä»€ä¹ˆ Streamlit æ— æ³•åœ¨ Vercel ä¸Šè¿è¡Œï¼Œå¹¶æä¾›æ›¿ä»£è§£å†³æ–¹æ¡ˆã€‚

## æ€»ç»“

- âœ… **ç«‹å³è§£å†³**ï¼šä½¿ç”¨ Streamlit Cloud éƒ¨ç½²
- âœ… **æœ¬åœ°å¼€å‘**ï¼šç»§ç»­ä½¿ç”¨ `streamlit run` å‘½ä»¤
- âœ… **ç”Ÿäº§éƒ¨ç½²**ï¼šé€‰æ‹© Railway æˆ– Render
- âŒ **ä¸æ¨è**ï¼šç»§ç»­å°è¯•åœ¨ Vercel ä¸Šéƒ¨ç½² Streamlit

é€‰æ‹©æœ€é€‚åˆæ‚¨éœ€æ±‚çš„éƒ¨ç½²æ–¹æ¡ˆï¼ŒStreamlit Cloud æ˜¯æœ€ç®€å•å’Œæ¨èçš„é€‰æ‹©ã€‚